### Tableau笔记

[toc]

> 数据可视化工具，我们可以在Tableau的可视化社区学习各种顶尖的可视化方案

- **数据赋能**：让业务一线也可以轻松使用最新数据

  > 可以将数据在线发布
  >
  > 看板可以自动更新数据
  >
  > 可以下载数据
  >
  > 邮箱订阅，数据预警功能
  >
  > 可以让有权限的业务在线上编辑仪表盘

- **数据探索**：通过统计分析和数据可视化，从数据发现问题，用数据验证假设

  > 支持亿级数据的连接和处理
  >
  > 自由地对字段进行各种计算
  >
  > 拖拽就可以轻松制作图表
  >
  > 数据可以随意聚合下钻
  >
  > 图标类型可以灵活转换
  >
  > 内置算法智能建模

#### 名词解析

- 自然曝光量：总曝光量-*`cpc`*曝光量；即未花钱，平台自己带来的曝光量
- *`roi`*：投入产出比；实收*`roi`*=实收/*`cpc`*总费用
- *`order_15D`*：表示这个用户在过去15天内的下单数量（区分新用户与老用户）
- 服务费：平台抽成

#### 1、数据连接

##### 1.1、本地文件

- *`csv`*数据连接到文本文件
- *`xls/xlsx`*文件连接到Excel
- *`Json`*文件

##### 1.2、数据库

> 下载数据库对应的驱动后，填写地址等参数连接到对应数据库

#### 2、数据加载

- 默认使用智能连接，只需选择连接所用的数据字段即可
- 连接所用的字段可以通过函数进行计算和编辑
- 表格之间的来连接原理，*`SQL`*中会详细讲解（类似于*`SQL`*的*`out join`*操作，完全外连接）

#### 3、本项目操作

##### 3.1、连接操作

- 先连接到*`shop`*，然后拖拽*`cpc`*，选择连接字段：

  > 门店id=门店ID
  >
  > 日期=日期

- 继续拖拽*`orders`*，先于*`shop`*先连，选择连接字段

  > 门店id=门店ID
  >
  > 日期=下单日期

连接方式：**实时与数据提取区别**

- 实时：根据源数据动态变化，源数据变化即图表更新
- 数据提取：将源数据存储到Tableau内置数据中，源数据变化若未再次进行数据提取操作，图表暂不更新--->保存到**hyper文件**中

##### 3.2、提取方式

> 数据提取的编辑页面涉及到增量刷新的选项---->涉及到数据量特别大的时候才进行使用

**对工作表进行保存**：

- *`twb`*文件格式：不含有数据
- *`twbx`*文件格式：含有数据源，一打开文件即可看到数据源

**筛选器添加**：筛选器可以对目标数据源进行筛选操作--->数据源特别大，且需要分类管理时即可添加筛选器

##### 3.3、数据处理

- 可以查看数据，进行排序、重命名、拆分、数据格式改变等操作
- 这些操作在作图界面也可以完成

```
理解本次项目数据：
1、shop表数据有2385行
	数据从19年8月21号-20年9月25日
	有空值是因为当天没开店
2、cpc表有1177行
	数据从19年10月28日-20年9月25日
	部分数据与shop表相同
3、orders表有4419行
	数据从20年7uie28日-20年9月4日
	并且只有一家门店的数据
```

##### 3.4 数据可视化原理

> 人类是天生的视觉优势动物，看图比看数字快；

数据变成图标的过程就是数据映射到视觉图形的过程

**对于可视化来说，数据有【维度】和【度量】两类型，【度量】映射图形，【维度】负责区分**：

- **数值型变量【度量】Measures**：
  - 一般是由数字组成的变量；例如：成交金额，用户数，点击量
  - 数值变量可以进行计算，并基于计算结果的大小表示图表的面积大小、条形长短、颜色深浅等可以量化的视觉元素
- **类别型变量【维度】Dimensions**：
  - 类别变量包含有限的类别数或可区分组数（数值变量过多时需要进行分组）；例如：用户ID、性别、来源渠道
  - 类别变量主要用来对数值变量的计算结果进行区分，表现为图表的颜色种类、图形位置、分类方式等难以量化的视觉元素
  - 只能进行计算和分布等简单计算

Tableau会自动区分变量的类型：

<img src="../Assets/Tableau.png" style="zoom:50%;" />上方的部分为维度型变量，下方的为度量型；颜色具有区分，上方（**蓝色**）为离散型变量，下方（**绿色**）为连续性变量

